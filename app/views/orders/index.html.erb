<div class="container-fluid">
  <div class="row flex-nowrap">
    <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-2 bg-white">
      <div class="d-flex flex-column align-items-center align-items-sm-start px-4 pt-2 text-white">

        <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start" id="menu">
          <li class="nav-item">
            <%= link_to customers_index_path, class: 'nav-link align-middle px-0', title: "Profile" do %>
              <i class="fs-4 bi bi-person"></i>
                <span class="ms-1 d-none d-sm-inline">Profile</span>
            <% end %>
          </li>

          <li>
            <%= link_to orders_index_path, class: 'nav-link align-middle px-0', title: "Orders" do %>
              <i class="fs-4 bi bi-card-list"></i>
                <span class="ms-1 d-none d-sm-inline">Orders</span>
            <% end %>

          </li>
        </ul>
      </div>
    </div>

    <div class="container mt-3">
        <% @orders.each do |order| %>
            <p><strong>Order ID: </strong><%= order.id %></p>
            <p><strong>Order Status: </strong><%= order.order_status.name %></p>
            <table class="table table-hover table-bordered table-sm">
                <thead>
                    <th>Item name</th>
                    <th>Quantity</th>
                    <th>Price</th>
                </thead>
                <% @order_details = OrderDetail.where(order_id: order.id) %>
                <% @order_details.each do |d| %>
                <tbody>
                    <td><%= d.item_name %></td>
                    <td><%= d.order_quantity %></td>
                    <td>CA$<%= d.order_price / 100 %></td>
                </tbody>
                <% end %>
            </table>
            <p>Grand Total: CA$<%= @order_details.sum { |d| d.order_price / 100 } %></p>
            <hr>
        <% end %>
    </div>
  </div>
</div>